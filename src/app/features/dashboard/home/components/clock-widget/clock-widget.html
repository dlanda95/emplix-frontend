<div class="clock-card" [ngClass]="currentStatus">
  
  <div class="header">
    <span class="date">{{ today | date:'EEEE, d MMMM' | titlecase }}</span>
    <div class="live-indicator" *ngIf="currentStatus === 'WORKING'">
      <span class="dot"></span> EN VIVO
    </div>
  </div>

  <div class="timer-display">
    <h1>{{ timeDisplay }}</h1>
    <p class="subtitle">{{ statusMessage }}</p>
  </div>

  <div class="actions">
    
    <button *ngIf="currentStatus === 'NOT_STARTED'" 
            class="action-btn start-btn" 
            (click)="handleClockIn()" 
            [disabled]="loading">
      <mat-icon>login</mat-icon>
      <span>MARCAR ENTRADA</span>
    </button>

    <button *ngIf="currentStatus === 'WORKING'" 
            class="action-btn stop-btn" 
            (click)="handleClockOut()" 
            [disabled]="loading">
      <mat-icon>logout</mat-icon>
      <span>MARCAR SALIDA</span>
    </button>

    <div *ngIf="currentStatus === 'COMPLETED'" class="completed-badge">
      <mat-icon>check_circle</mat-icon>
      <span>Jornada Finalizada</span>
    </div>

  </div>

  <div class="footer-info" *ngIf="attendanceRecord">
    <div class="info-col">
      <span class="label">Entrada</span>
      <span class="value">{{ attendanceRecord.checkIn | date:'HH:mm' }}</span>
    </div>
    <div class="divider"></div>
    <div class="info-col">
      <span class="label">Salida</span>
      <span class="value">{{ attendanceRecord.checkOut ? (attendanceRecord.checkOut | date:'HH:mm') : '--:--' }}</span>
    </div>
  </div>

</div>
