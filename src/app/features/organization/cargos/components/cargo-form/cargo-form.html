<div class="dialog-container">
  
  <div class="dialog-header">
    <div class="header-icon">
      <mat-icon>{{ data.position ? 'edit' : 'badge' }}</mat-icon>
    </div>
    <div class="header-text">
      <h2>{{ data.position ? 'Editar Cargo' : 'Nuevo Puesto Laboral' }}</h2>
      <p>Define el rol y su ubicación en la estructura.</p>
    </div>
  </div>

  <mat-dialog-content>
    <form [formGroup]="form" class="dialog-form">
      
      <mat-form-field appearance="outline" class="aesthetic-field">
        <mat-label>Nombre del Cargo</mat-label>
        <mat-icon matPrefix>work_outline</mat-icon>
        <input matInput formControlName="name" placeholder="Ej. Analista Contable">
        <mat-error *ngIf="form.get('name')?.hasError('required')">El nombre es requerido</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="aesthetic-field">
        <mat-label>Área / Departamento</mat-label>
        <mat-icon matPrefix>domain</mat-icon>
        <mat-select formControlName="departmentId">
          <mat-option [value]="null">
            <span class="option-placeholder">-- Sin asignar (General) --</span>
          </mat-option>
          <mat-option *ngFor="let dep of data.departments" [value]="dep.id">
            {{ dep.name }}
          </mat-option>
        </mat-select>
        <mat-hint>Vincula este cargo a un departamento específico.</mat-hint>
      </mat-form-field>

      <mat-form-field appearance="outline" class="aesthetic-field textarea-field">
        <mat-label>Descripción / Responsabilidades</mat-label>
        <textarea matInput formControlName="description" rows="3" placeholder="Breve descripción de las funciones..."></textarea>
      </mat-form-field>

    </form>
  </mat-dialog-content>

  <mat-dialog-actions align="end" class="dialog-footer">
    <button mat-button (click)="onCancel()" class="btn-cancel">Cancelar</button>
    <button mat-flat-button color="primary" [disabled]="form.invalid" (click)="onSave()" class="btn-save">
      <mat-icon>save</mat-icon> Guardar Cargo
    </button>
  </mat-dialog-actions>

</div>