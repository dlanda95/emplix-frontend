@use 'abstracts/variables' as *;

// --- FILTROS (TABS) ---
// Contenedor externo para manejar el scroll en móviles sin cortar sombras
.filter-tabs-container {
  margin-bottom: 2rem;
  width: 100%;
  overflow-x: auto; // Scroll horizontal en móvil
  
  // Ocultar scrollbar visualmente pero permitir scroll
  scrollbar-width: none; 
  &::-webkit-scrollbar { display: none; }
}

.filter-tabs {
  display: inline-flex; // Permite que se comporten como bloque fluido
  gap: 0.5rem;
  padding: 4px;
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md); // Variable global
  
  // En Desktop: Fit content
  width: fit-content;

  .tab-btn {
    padding: 0.5rem 1.25rem;
    border: none;
    background: transparent;
    border-radius: calc(var(--radius-md) - 2px); // Un poco menos que el contenedor
    font-family: inherit;
    font-size: var(--text-sm);
    font-weight: 600;
    color: var(--text-secondary);
    cursor: pointer;
    white-space: nowrap; // Evita que el texto baje de línea
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);

    &:hover {
      color: var(--text-main);
      background: var(--bg-hover);
    }

    &.active {
      background: #ffffff;
      color: var(--color-primary);
      box-shadow: var(--shadow-sm);
      font-weight: 700;
    }
  }
}

// --- GRID (Aesthetic & Responsive) ---
.kudos-grid {
  display: grid;
  // Ajuste inteligente: 
  // 1fr en móviles muy pequeños, pero intenta mantener 300px mínimo.
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 1.5rem;
  padding-bottom: 4rem; // Espacio extra abajo para scroll
}

// --- ESTADO DE CARGA ---
.loading-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 4rem 2rem;
  text-align: center;
  color: var(--text-muted);
  
  // Forzamos el color del spinner nativo
  ::ng-deep .mat-mdc-progress-spinner circle, 
  ::ng-deep .mat-spinner circle {
      stroke: var(--color-primary);
  }

  p { 
    margin-top: 1rem;
    font-size: var(--text-sm);
    font-weight: var(--weight-medium);
  }
}

// --- ANIMACIONES ---
.animate-fade-in { animation: fadeIn 0.5s ease-out; }
.animate-slide-up { animation: slideUp 0.5s ease-out forwards; }

@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

// --- RESPONSIVE MOBILE ---
@media (max-width: 600px) {
  
  // En móvil, los tabs ocupan el ancho completo o permiten scroll
  .filter-tabs {
    width: 100%; 
    justify-content: space-between; // Distribuye el espacio equitativamente
    
    .tab-btn {
      flex: 1; // Cada botón toma el mismo ancho
      text-align: center;
      padding: 0.6rem 0.5rem; // Más zona táctil
      font-size: var(--text-xs); // Letra un pelín más chica si es necesario
    }
  }

  // Grid a 1 sola columna en móviles
  .kudos-grid {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
}