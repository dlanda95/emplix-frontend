<div class="modal-container">
  
  <div class="modal-header">
    <h2 class="modal-title">ğŸ‘ Dar un Aplauso</h2>
    <p class="modal-subtitle">Reconoce el esfuerzo de un compaÃ±ero.</p>
  </div>
  
  <div class="steps-container">
    
    <div class="form-group">
      <label>Â¿A quiÃ©n quieres reconocer?</label>
      <div class="search-unit">
        <mat-icon class="search-icon">search</mat-icon>
        <input type="text" 
               placeholder="Escribe el nombre del compaÃ±ero..." 
               [ngModel]="targetUser()" 
               (ngModelChange)="targetUser.set($event)">
      </div>
    </div>

    <div class="form-group">
      <label>Â¿QuÃ© valor demostrÃ³?</label>
      <div class="categories-grid">
        <div *ngFor="let cat of categories" 
             class="cat-option" 
             [class.selected]="selectedCategory() === cat.code" 
             [ngClass]="cat.colorClass"
             (click)="selectCategory(cat.code)">
          
          <div class="icon-circle">
            <mat-icon>{{ cat.icon }}</mat-icon>
          </div>
          <span>{{ cat.label }}</span>
          
          <div class="check-mark" *ngIf="selectedCategory() === cat.code">
            <mat-icon>check_circle</mat-icon>
          </div>
        </div>
      </div>
    </div>

    <div class="form-group">
      <label>Tu mensaje</label>
      <div class="textarea-wrapper">
        <textarea rows="3" 
                  placeholder="Describe por quÃ© se merece este aplauso..."
                  [ngModel]="message()" 
                  (ngModelChange)="message.set($event)"></textarea>
      </div>
    </div>

  </div>

  <div class="modal-actions">
    <button mat-button (click)="close()" [disabled]="isSubmitting()">Cancelar</button>
    <button mat-flat-button color="primary" 
            [disabled]="!selectedCategory() || !targetUser() || isSubmitting()" 
            (click)="submit()">
      {{ isSubmitting() ? 'Enviando...' : 'Enviar Aplauso' }}
    </button>
  </div>

</div>