<app-modal-update 
  title="Solicitud de Actualización" 
  subtitle="Los cambios requieren aprobación de RRHH"
  (closeEvent)="close()">
  
  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="form-wrapper">
    
    <div class="form-content">
      
      <div class="info-banner">
        <mat-icon>info</mat-icon>
        <p>Los cambios de identidad (nombres) pasarán por validación.</p>
      </div>

      <div class="form-sections">
        
        <div class="section">
          <h4 class="section-title">Identidad</h4>
          <div class="grid-2">
            <app-custom-input label="Primer Nombre" [control]="getControl('firstName')"></app-custom-input>
            <app-custom-input label="Segundo Nombre" [control]="getControl('middleName')" placeholder="(Opcional)"></app-custom-input>
          </div>
          <div class="grid-2">
            <app-custom-input label="Primer Apellido" [control]="getControl('lastName')"></app-custom-input>
            <app-custom-input label="Segundo Apellido" [control]="getControl('secondLastName')" placeholder="(Opcional)"></app-custom-input>
          </div>
          <app-custom-input label="Fecha de Nacimiento" type="date" icon="calendar_today" [control]="getControl('birthDate')"></app-custom-input>
        </div>

        <div class="divider"></div>

        <div class="section">
          <h4 class="section-title">Contacto</h4>
          <div class="grid-2">
            <app-custom-input label="Email Personal" icon="email" [control]="getControl('personalEmail')"></app-custom-input>
            <app-custom-input label="Teléfono" icon="phone" [control]="getControl('phone')"></app-custom-input>
          </div>
          <app-custom-input label="Domicilio Actual" icon="home" [control]="getControl('address')"></app-custom-input>
        </div>

        <div class="divider"></div>

        <div class="section">
          <h4 class="section-title">Emergencia</h4>
          <div class="grid-2">
            <app-custom-input label="Nombre Contacto" icon="person_alert" [control]="getControl('emergencyName')"></app-custom-input>
            <app-custom-input label="Teléfono Contacto" icon="phone_callback" [control]="getControl('emergencyPhone')"></app-custom-input>
          </div>
        </div>
      </div>
    </div>

    <div class="form-actions">
      <app-custom-button 
        type="button" 
        variant="secondary" 
        (onClick)="close()">
        Cancelar
      </app-custom-button>

      <app-custom-button 
        type="submit" 
        variant="primary" 
        icon="send"
        [isLoading]="loading">
        Enviar Solicitud
      </app-custom-button>
    </div>

  </form>
</app-modal-update>