@use 'abstracts/variables' as *;

// --- LAYOUT GLOBAL ---
.dashboard-layout {
  display: flex;
  height: 100vh;
  width: 100vw;
  background-color: var(--bg-body);
  overflow: hidden; 
  position: relative;
  font-family: var(--font-main);
}

// --- SIDEBAR ---
.dashboard-sidebar {
  height: 100%;
  background: var(--bg-surface);
  z-index: 40;
  width: 260px;
  flex-shrink: 0; // Evita que se aplaste
  border-right: 1px solid var(--border-subtle);
  transition: width 0.3s cubic-bezier(0.25, 0.8, 0.25, 1), transform 0.3s ease;

  &.sidebar-desktop-collapsed {
    width: 80px;
  }
}

// --- √ÅREA PRINCIPAL ---
.dashboard-main {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-width: 0; // üö® FIX CLAVE para evitar desbordamiento horizontal
  height: 100%;
  position: relative;
  z-index: 1;
}

// Contenedor con Scroll
.content-scrollable {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  
  // Barras de scroll est√©ticas
  scrollbar-width: thin;
  scrollbar-color: var(--text-muted) transparent; 
  
  &::-webkit-scrollbar { width: 6px; }
  &::-webkit-scrollbar-thumb { 
    background-color: var(--border-color); 
    border-radius: 4px; 
  }
}

// Wrapper del Contenido
.content-wrapper {
  width: 100%;
  max-width: 1600px; // L√≠mite para pantallas ultra-anchas
  margin: 0 auto;    // Centrado horizontal
  box-sizing: border-box;
  
  // ‚ùå PADDING ELIMINADO
  // Delegamos el padding a <app-content-layout-view> dentro de cada p√°gina.
  // Esto permite que si una p√°gina necesita ser "Full Width" (ej. un Mapa), pueda serlo.
  padding: 0; 
}

// --- MOBILE ---
@media (max-width: 768px) {
  .dashboard-sidebar {
    position: absolute;
    top: 0; left: 0; bottom: 0;
    width: 280px;
    transform: translateX(-100%);
    box-shadow: none;
  }

  .dashboard-sidebar.sidebar-mobile-open {
    transform: translateX(0);
    box-shadow: var(--shadow-xl);
  }

  .mobile-backdrop {
    position: absolute;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.4);
    z-index: 30;
    backdrop-filter: blur(4px);
    animation: fadeIn 0.3s ease-out;
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}